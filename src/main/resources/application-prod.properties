# ================================
# PRODUCTION PROFILE (prod)
# ================================

# Application
spring.application.name=medhead-emergency-allocation
server.port=${SERVER_PORT:8080}
server.servlet.context-path=/api

# Security / JWT
security.jwt.secret=${JWT_SECRET}
security.jwt.expiration-ms=${JWT_EXPIRATION_MS:86400000}
security.jwt.header=Authorization

# Datasource (PostgreSQL)
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP tuning (override as needed)
spring.datasource.hikari.maximum-pool-size=${HIKARI_MAX_POOL_SIZE:20}
spring.datasource.hikari.minimum-idle=${HIKARI_MIN_IDLE:10}
spring.datasource.hikari.connection-timeout=${HIKARI_CONNECTION_TIMEOUT:30000}
spring.datasource.hikari.idle-timeout=${HIKARI_IDLE_TIMEOUT:600000}
spring.datasource.hikari.max-lifetime=${HIKARI_MAX_LIFETIME:1800000}

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Logging (production)
logging.level.root=${LOG_LEVEL_ROOT:INFO}
logging.level.com.medhead=${LOG_LEVEL_APP:INFO}
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level %logger{36} - %msg%n

# Actuator (expose only what you need)
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=never

# Springdoc OpenAPI
springdoc.api-docs.enabled=${OPENAPI_ENABLED:true}
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.enabled=${SWAGGER_UI_ENABLED:false}
springdoc.swagger-ui.path=/swagger-ui/index.html

# Misc
spring.main.banner-mode=off
